.. role:: raw-html-m2r(raw)
   :format: html


FAQ
===

----

技术问题 FAQ 列表：  


* `JAVA SDK FAQ <https://weidentity.readthedocs.io/zh_CN/stable/docs/weidentity-java-sdk/faq.md>`_

----


* **“把数据主权回归用户”体现在哪些方面？**

数据主权意味着用户对数据的控制，主要体现在下面几个方面：


#. 用户控制自己的数据存储和交换过程。
#. 用户身份及与其相关的凭证、数据都是可移植的。
#. 用户可通过授权方式决定谁有权力访问自己的数据。
#. 针对某个具体的结构化数据，用户可选择性披露其中的某些字段，而数据验证方能判断整个结构化数据的有效性与权威性。

----


* **在公链环境和联盟链环境下，目前该项目面临的挑战是什么？**

从架构设计与技术实现角度考虑，WeIdentity项目可以支持公有链环境和联盟链环境。

如果选择公有链环境，挑战主要有三方面：


#. 用户身份认证的问题：公有链倾向于“去中心化”，但身份认证的过程是需要解决现实世界的人与网络世界的ID的关联问题，在“去中心化”的环境下，这将构成巨大的挑战；
#. 用户私钥管理的问题：公有链倾向于让用户自己管理私钥，但对于大众而言，这将会带来非常高的成本和严峻的挑战；
#. 商业模式探索的问题：公有链目前并没有提出一种合法合规的商业模式来持续维护和运营这个生态；

如果选择联盟链环境，挑战主要在于需要在不同的场景和领域找到对应的关键角色的合作伙伴，共同探索商业模式。

考虑到“个人身份认证”、“个人数据存储”、“数据流转与交换”这些关键模块均需要权威机构的参与，且考虑商业模式需合法合规，我们推荐联盟链环境。

----


* **如果要用接入KYC，需要接入什么机构？现在已经接入了该机构吗？**

WeIdentity项目中提及的KYC过程分为两步：


#. 将现实生活中的人与现实生活中的号码关联起来，比如人和身份证号、人和银行卡号、人和微信账号等，这个过程一般由权威机构或企业完成，比如公安局、商业银行、腾讯公司等；
#. 将现实生活中的号码与WeIdentity DID关联起来，比如微信号码和WeIdentity DID，这个过程在第1步完成后，由对应的机构来完成；

WeIdentity项目并不会改变现实世界中KYC的流程，而是与之结合，具体是否需要接入、以及接入什么机构，由业务场景决定，故没有指定的某机构。

----


* **WeIdentity能提供哪些方面的凭证？这些凭证分别依托什么样的权威机构？举例说明？**

WeIdentity项目设计了一套完整的凭证定义机制，目标是为了将现实世界中所有的凭证生成对应的WeIdentity凭证。现实世界中的凭证分为两大类：


#. 权威型凭证：身份证、驾照、护照、学位证、银行交易流水证明、电子处方等，这些凭证的信息理论上均可电子化、结构化表示出来，并且加上权威机构的数字签名即可生成WeIdentity凭证；
#. 自定义凭证：授权凭证、请柬、借据等等，这些凭证与权威型凭证的区别仅仅在于数字签名是由个人签发的，而非权威机构签发；

因此，WeIdentity是依托于现实世界的凭证来生成的，具体能提供哪些凭证、这些凭证依托于什么权威机构也是依托于现实世界的规则。

----


* **WeIdentity能否用于“存证/供应链/贸易/文化/游戏”等场景的应用，怎么用？**

WeIdentity能用于一切涉及到身份认证、数据交换的场景，具体用法需深入结合对应场景的需求。

----


* **如果详细的数据放到链下，怎么获取详细数据？**

涉及隐私的数据都是在链外私有存储，获取详细数据有两种模式：


#. 用户通过User Agent提供的服务下载详细数据，线上传输或线下二维码模式提交给数据使用方；
#. 用户通过User Agent授权数据访问，数据使用方与数据提供方建立数据传输通道进行数据传输。

----


* **新用户/新机构怎么登记到链上？**

新用户不直接与链交互，而是通过User Agent代理接入上链；
新机构登记上链需考虑业务场景以及对应角色，有以下建议：


#. 业务发起方机构需直接部署节点组链，并提供开放平台；
#. 其它业务参与方机构可在获得业务发起方允许的情况下接入上链或通过业务发起方提供的开放平台方式接入上链。

----


* **如何保证权威机构的“权威性”，例如：能够长期地、稳定地提供准确的证明和相关数据？如果不能提供，怎么治理？**

权威机构的“权威性”是由现实世界决定的，不由WeIdentity项目决定。

----


* **有哪些机构可以参与共识，机构参与的判定标准是什么？**

由具体业务场景和机构所扮演的角色共同决定，理论上数据提供方、数据使用方、用户代理都可以参与共识。

----


* **生成的WeIdentity DID如何进行数据迁移？**

WeIdentity SDK提供数据导出接口，可以以json格式导出用户（人或者物）的WeIdentity Document完整数据，供User Agent数据迁移时使用。同时SDK也提供数据导入接口，从其他链导出的数据，可以在支持WeIdentity的区块链导入，即按照提供的WeIdentity Document和公私钥，重新在链上创建WeIdentity Document。\ :raw-html-m2r:`<br>`
User Agent可以基于上面提到的导入导出接口，为用户的数据迁移提供更好的体验，例如某用户想将平台A的数据迁移到平台B，则平台A可以跟平台B基于自己的业务需要，打通数据迁移的接口。

----


* **生成的Credential如何进行数据迁移？**

Credential一般为用户或者机构（机构为用户提供Credential托管的情况）私有存储（不上链）。具体导出导入方式由机构自行决定。

----


* **是否支持批量存储？**

目前没有批量接口。

----


* **WeIdentity DID和标准化DID协议的异同是什么？**

WeIdentity DID基于W3C的DID规范，实现了一套分布式多中心的身份标识协议（需依托分布式账本作为底层运行平台），使实体（人或物）的可以在分布式账本上标识和鉴权其身份；目前W3C DID规范在发展，WeIdentity DID也在发展。

----


* **CPT到底是什么，能否举一个详细的例子？如何生成我自定义的CPT？**

CPT可以理解为各类证件的模板定义结构，例如驾照这类Credential的数据格式跟学位证这类Credential的数据格式肯定是不一样的，所以各类Credential需要定义自己的CPT类型。当机构想在WeIdentity生态发行一种凭证（例如某公司想基于WeIdentity发行员工使用的门禁卡），则可以定义这种门禁卡的数据格式，即定义一种CPT，然后注册到WeIdentity平台。

----


* **获取详细数据时如何进行鉴权，以确认确实是已经授权过的请求？**

在可信数据交换的场景下，当某机构A需要使用用户X在机构B处存储的数据M。机构A可以获取用户的授权Credential（可以通过 `CPT101 <https://weidentity.readthedocs.io/zh_CN/stable/docs/cpt-templates.html#cpt101>`_ 来实现，也可以自行定义符合自己业务需求的 CPT ）。

可信数据交换规范定义了数据获取接口和数据授权提供接口的规范。
然后机构B需要实现数据授权提供接口，机构A通过数据获取接口向机构B请求这个数据，并带上用户授权数据使用的Credential，机构B验证Credential正确后返回数据。

----


* **如果一个发证机构的私钥丢失，要怎么处理？个人的私钥丢失呢？**

机构和个人的WeIdentity DID都通过私钥来控制，如果私钥丢失，需要通过Recovery机制来支持重置WeIdentity的公钥。Recovery机制要求WeIdentity DID持有人设置相应的恢复人。\ :raw-html-m2r:`<br>`
未来会支持恢复人的多种模式，例如某个列表中任意一个恢复人可以恢复，或者需要收集列表中至少多少个签名才可以恢复。

----


* **已经发出的凭证（Credential）如何撤销和重新生成？**

WeIdentity Credential支持撤销操作，由发行这个Credential的机构或者人来执行。
Credential的重新生成则为重新发行一个Credential ID不相同的全新Credential。同时Credential支持更新和过期时间延期等操作。

----


* **在链上的证明有没有伪造的可能，如何防伪造？**  

在链上的证明需要具备数字签名，在私钥不泄露的情况下，理论上不存在被伪造的可能性。

----


* 
  **链下链上数据占多少空间？如果1000万用户数据要占多大空间？**

* 
  **性能数据如何，创建WeID和证明所有权；创建证明和查询、验证等关键操作分别能达到多少TPS？**

* 
  **随着用户/机构数增长，业务数据量的scale增长比例的估计是？**
